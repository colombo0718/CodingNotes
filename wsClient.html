<script type="text/javascript">
    function WebSocketTest(){
        if("WebSocket" in window){
            console.log("您的浏览器支持 WebSocket!");
            // 打开一个 web socket
            var ws = new WebSocket("ws://localhost:9998/echo");

            ws.onopen = function(){
                ws.send("发送数据");
                console.log("数据发送中...");
            };
            ws.onmessage = function (evt){ 
                var msg = evt.data;
                console.log("数据已接收..."+ msg);
            };
            ws.onclose = function(){ 
                console.log("连接已关闭..."); 
            };
        }
    }
</script>
    
<a href="javascript:WebSocketTest()">运行 WebSocket</a>